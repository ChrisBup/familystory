<html>
  <head>
    <title>FamilyStory</title>
    <meta charset="utf-8">

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="http://assets.ziggeo.com/css/ziggeo-betajs-player.min.css" />
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.1.1/css/bootstrap.min.css">
    <style>
      .video-recorder-message-view {
        background-color: gray
      }
      .video-uploader-upload-button-view {
        color: white;
      }
      .video-uploader-upload-button-view:hover {
        background-color: lightgray;
      }
    </style>

    <script src="http://assets.ziggeo.com/js/ziggeo-jquery-json2-betajs-player.min.js"></script>
    <script type="text/javascript" src='javascripts/libraries/jquery.js'></script>
    <script type="text/javascript" src='javascripts/libraries/underscore.js'></script>
    <script type="text/javascript" src='javascripts/libraries/backbone.js'></script>
    <script type="text/javascript" src='javascripts/backbone/app.js'></script>
    <script type="text/javascript" src='javascripts/backbone/models/member.js'></script>
    <script type="text/javascript" src='javascripts/backbone/collections/memberCollection.js'></script>
    <script type="text/javascript" src='javascripts/backbone/views/members/memberView.js'></script>
    <script type="text/javascript" src='javascripts/backbone/views/members/memberListView.js'></script>

    <script type='text/template' id='member-list-template'>
    <a href='#/new' class='btn btn-primary'>New Member</a>
    <hr />
    <table class='table striped'>
      <thead>
        <tr>
          <th>name</th>
          <th>date of birth</th>
          <th>city</th>
          <th>bio</th>
        </tr>
      </thead>
      <tbody>
        <% _.each(members, function(member) { %>
          <tr>
            <td><%= htmlEncode(member.get('name')) %></td>
            <td><%= htmlEncode(member.get('dob')) %></td>
            <td><%= htmlEncode(member.get('city')) %></td>
            <td><%= htmlEncode(member.get('bio')) %></td>
            <td><a class="btn" href="#/edit/<%= member.id %>">Edit</a></td>
          </tr>
        <% }); %>
      </tbody>
    <table>
  </script>

  <script type='text/template' id='edit-member-template'>
    <form class='edit-member-form'>
      <legend><%= member ? 'edit ' : 'new ' %>member</legend>
      <label>name</label>
      <input type='text' name='name' value="<%= member ? member.get('name') : '' %>" />
      <label>date of birth</label>
      <input type='text' name='dob' value="<%= member ? member.get('dob') : '' %>" />
      <label>city</label>
      <input type='text' name='city' value="<%= member ? member.get('city') : '' %>" />
      <label>bio</label>
      <input type='text' name='bio' value="<%= member ? member.get('bio') : '' %>" />
      <hr />
      <button type='submit' class='btn'><%= member ? 'update' : 'create' %></button>
      <% if(member) { %>
        <input type='hidden' name='id' value='<%= member.id %>' />
        <button data-member-id="<%= member.id %>" class='btn btn-danger delete'>delete</button>
      <% }; %>
    </form>
  </script>

  </head>
  <body>

  <form class='member-form'>
    <label>member name</label>
    <input type="text" name='member-name'>
    <input type="submit" value="submit">
  </form>

  <div class='container members'>
    <h1>Family Members</h1>
    <hr />
    <div class='page'></div>
  </div>

  <ziggeo ziggeo-width=320
          ziggeo-height=240>
  </ziggeo>

  <ziggeo ziggeo-video="_sample_video"
          ziggeo-width=320
          ziggeo-height=240>
  </ziggeo>

  <script>

    ZiggeoApi.Events.on("submitted", function (data) {
      alert("Submitted a new video with token '" + data.video.token + "'!");
    });

    ZiggeoApi.Streams.accept(video_token, stream_token, {
        success: function (args, result) {
        // Success
      },
        failure: function (args, error) {
        // Failure
      }
    });

    ZiggeoApi.Styles.play_button_vertical_align = "center"; // "top" or "bottom"
    ZiggeoApi.Styles.play_button_horizontal_align = "center"; // "left" or "right"
    ZiggeoApi.Styles.play_button_class = "ziggeo-play-button"; // "your-custom-css-class"

  </script>

  </body>
</html>
